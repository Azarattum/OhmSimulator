!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=19)}([function(e,t,i){"use strict";i.d(t,"b",(function(){return Utils})),i.d(t,"a",(function(){return r}));class Utils{static log(e,t=r.INFO){const i=`[${(new Date).toTimeString().split(" ")[0]}]: `;switch(t){case r.INFO:console.log(i+"%c[1mi[0m "+e,"font-weight:bold;");break;case r.OK:console.log(i+"[32m[1m%câœ“ "+e+"[0m","color:green;font-weight:bold;");break;case r.ERROR:console.error(i+"[31m[1m%câœ˜ "+e+"[0m","color:red;font-weight:bold;");break;case r.WARNING:console.warn(i+"[33m[1m%c![0m [33m"+e+"[0m","color:goldenrod;font-weight:bold;");break;case r.DIVIDER:{const t="=".repeat(30-e.length/2);console.log(t+e+t+(e.length%2?"=":""));break}default:throw new TypeError("Unknown log type!")}}static mergeObjects(e,t){for(const i in t)"object"==typeof t[i]?(e[i]||(e[i]={}),this.mergeObjects(e[i],t[i])):e[i]?Array.isArray(e[i])?e[i].includes(t[i])||e[i].push(t[i]):e[i]!=t[i]&&(e[i]=[e[i],t[i]]):e[i]=t[i]}}var r;!function(e){e[e.INFO=0]="INFO",e[e.OK=1]="OK",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR",e[e.DIVIDER=4]="DIVIDER"}(r||(r={}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(10),n=i(0);function o(){return class Controller{constructor(e){this.type="Controllers",this.callbacks={},this.sender=null,this.bindings=null,this.safe=!0,this.name=e||this.constructor.name}bind(){this.bindings=new Map;const e=Array.from(document.querySelectorAll(`[controller=${this.name.toLowerCase()}]`)).reverse();for(const t of e){const e=new r.a(t);e.bind(),this.bindings.set(t,e)}}close(){this.callbacks={}}on(e,t){e in this.callbacks||(this.callbacks[e]=[]),this.callbacks[e].push(t)}emit(e,...t){this.callbacks[e]&&this.callbacks[e].forEach(e=>e.call(e,...t))}expose(e,t=null){globalThis[this.name]||(globalThis[this.name]={});const i=t||this[e].bind(this);globalThis[this.name][e]=(...e)=>{let t;if(null===event||void 0===event?void 0:event.target)this.sender=event.target,t=i(...e);else{const r=Array.from(document.querySelectorAll(`[controller=${this.name.toLowerCase()}]`)).reverse();t=new Set;let o=null;for(const a of r){this.sender=a;const r=i(...e);null!=r&&("object"==typeof r?(o||(o={}),n.b.mergeObjects(o,r)):t.add(r))}t=o||(t.size>1?Array.from(t):t.values().next().value),this.sender=null}return t}}get container(){let e=this.sender?this.sender.closest(`[controller=${this.name.toLowerCase()}]`):null;if(e=e||document.querySelector(`[controller=${this.name.toLowerCase()}]`),!e)throw new Error(`Container ${this.name} not found!`);return e}get data(){if(!this.bindings)throw new Error("Use this.bind() to bind your data first!");let e=[];if(this.sender){const t=this.bindings.get(this.container);t&&(e=[t])}else e=Array.from(this.bindings.values());const t={get:(e,i)=>{const r=(e.__origin?e.__origin+".":"")+i,n=e[i];return"object"==typeof n||void 0===n?new Proxy(Object.assign(Object.assign({},n),{__origin:r}),t):n},set:(t,i,r)=>{if(!this.bindings)return!1;const n=(t.__origin?t.__origin+".":"")+i;t[i]=r;for(const t of e)t.set(n,r,!this.safe);return!0}},i={};for(const t of e)n.b.mergeObjects(i,t.get());return i.__origin="",new Proxy(i,t)}}}"undefined"==typeof globalThis&&(window.globalThis=window),globalThis.Controller=new Proxy({},{get:(e,t)=>{if(!event)return;let i=event.target,r=null;for(;null==r||null==globalThis[r]||null==globalThis[r][t];){if(r=i.getAttribute("controller"),r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),!i.parentElement)return;i=i.parentElement}return globalThis[r][t]}})},function(e,t,i){"use strict";i.d(t,"a",(function(){return View}));class View{constructor(e,t=null){this.type="Views",this.name=e,this.windowLoaded="complete"===document.readyState,this.template=t,this.windowLoaded||window.addEventListener("load",()=>{this.windowLoaded=!0,this.template&&this.render(this.template)})}async initialize(e){this.render(null,e)}render(e=null,t={}){this.windowLoaded?(e||(e=this.template),t||(t={}),this.container.forEach(i=>{if(!e)return;const r={};for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];r[e]="function"==typeof n?(...e)=>n(i,...e):n}r.data=this.data,i.innerHTML=e(r)}),this.template=null):this.template=e}toggle(e=null){null==e&&(e="none"==this.container[0].style.display),e?this.container.forEach(e=>{e.style.display="block"}):this.container.forEach(e=>{e.style.display="none"})}get data(){const e={get:(t,i)=>{if(i==Symbol.toPrimitive||"toJSON"==i||"toString"==i)return()=>`<placeholder ${t._}>\x3c!--"placeholders __postfix_${t._}="--\x3e</placeholder>`;const r={_:(t._?t._+".":"")+i};return new Proxy(r,e)}};return new Proxy({_:""},e)}get container(){const e=document.querySelectorAll(`[view=${this.name.toLowerCase()}]`);if(!e)throw new Error(`Container ${this.name} not found!`);return e}}},function(e,t,i){"use strict";var r,n=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),a=[];function s(e){for(var t=-1,i=0;i<a.length;i++)if(a[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},r=[],n=0;n<e.length;n++){var o=e[n],l=t.base?o[0]+t.base:o[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var u=s(d),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(a[u].references++,a[u].updater(h)):a.push({identifier:d,updater:v(h,t),references:1}),r.push(d)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var n=i.nc;n&&(r.nonce=n)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function h(e,t,i,r){var n=i?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var o=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t,i){var r=i.css,n=i.media,o=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var g=null,f=0;function v(e,t){var i,r,n;if(t.singleton){var o=f++;i=g||(g=c(t)),r=h.bind(null,i,o,!1),n=h.bind(null,i,o,!0)}else i=c(t),r=p.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<i.length;r++){var n=s(i[r]);a[n].references--}for(var o=l(e,t),c=0;c<i.length;c++){var d=s(i[c]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}i=o}}}},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var n=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[i].concat(o).concat([n]).join("\n")}var a,s,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,r){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(n[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){"use strict";var r=Object.prototype.hasOwnProperty;function n(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",o="",a=Array.isArray(t),s=0;s<e.length;s++)(i=n(e[s]))&&(a&&t[s]&&(i=l(i)),r=r+o+i,o=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var n in e)n&&e[n]&&r.call(e,n)&&(t=t+i+n,i=" ");return t}(e):e||""}function o(e){if(!e)return"";if("object"==typeof e){var t="";for(var i in e)r.call(e,i)&&(t=t+i+":"+e[i]+";");return t}return e+""}function a(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=l(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,i){if(1===arguments.length){for(var r=t[0],n=1;n<t.length;n++)r=e(r,t[n]);return r}for(var a in i)if("class"===a){var s=t[a]||[];t[a]=(Array.isArray(s)?s:[s]).concat(i[a]||[])}else if("style"===a){s=(s=o(t[a]))&&";"!==s[s.length-1]?s+";":s;var l=o(i[a]);l=l&&";"!==l[l.length-1]?l+";":l,t[a]=s+l}else t[a]=i[a];return t},t.classes=n,t.style=o,t.attr=a,t.attrs=function(e,t){var i="";for(var s in e)if(r.call(e,s)){var l=e[s];if("class"===s){l=n(l),i=a(s,l,!1,t)+i;continue}"style"===s&&(l=o(l)),i+=a(s,l,!1,t)}return i};var s=/["&<>]/;function l(e){var t=""+e,i=s.exec(t);if(!i)return e;var r,n,o,a="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}n!==r&&(a+=t.substring(n,r)),n=r+1,a+=o}return n!==r?a+t.substring(n,r):a}t.escape=l,t.rethrow=function e(t,r,n,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&r||o))throw t.message+=" on line "+n,t;try{o=o||i(22).readFileSync(r,"utf8")}catch(i){e(t,null,n)}var a=3,s=o.split("\n"),l=Math.max(n-a,0),c=Math.min(s.length,n+a);a=s.slice(l,c).map((function(e,t){var i=t+l+1;return(i==n?"  > ":"    ")+i+"| "+e})).join("\n");throw t.path=r,t.message=(r||"Pug")+":"+n+"\n"+a+"\n\n"+t.message,t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Device}));i(25);var r=i(17),n=i.n(r),o=i(2);class Device extends o.a{constructor(e){super(e),this.name=e,this.template=n.a}render(e=null,t={}){super.render(e,Object.assign({name:this.name.toLocaleLowerCase()},t))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return App}));var r=i(8),n=i(9),o=i(11),a=i(12),s=i(13),l=i(15),c=i(6),d=i(18);class App{constructor(){this.manger=null,this.events=null}async initialize(){const e=[new o.a,new n.a,new a.a,new s.a,new l.a,new c.a("Voltmeter"),new c.a("Ampermeter")];this.manger=new r.a(e),this.events=new d.a(e);const t=await this.getComponentArguments();await this.events.registerEvents(),await this.manger.initialize(t)}async getComponentArguments(){if(!this.manger)throw new Error("Initialize manager first!");return{Devices:[132],Power:[30],Voltmeter:[{ranges:[.5,1,2,3],step:2,label:"V",precision:"1.5"}],Ampermeter:[{ranges:[1,2,5,20],step:20,label:"mA",precision:"2.0"}]}}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Manager}));var r=i(0);class Manager{constructor(e){this.logging=!0;const t=["Services","Views","Controllers"];this.components=e.sort((e,i)=>t.indexOf(e.type)>=t.indexOf(i.type)?1:-1)}async initialize(e=[]){let t=0;this.logging&&r.b.log("Initializtion started...");let i="";for(const n in this.components){const o=this.components[n];this.logging&&i!=o.type&&(r.b.log(o.type,r.a.DIVIDER),i=o.type);try{const t=Array.isArray(e)?e[n]:e[o.name];t&&o.initialize?await o.initialize(...t):o.initialize&&await o.initialize(),this.logging&&r.b.log(o.name+" initialized!",r.a.OK)}catch(e){this.logging&&r.b.log(o.name+" initialization exception:\n\t"+e.stack.replace(/\n/g,"\n\t"),r.a.ERROR),t++}}this.logging&&(r.b.log("",r.a.DIVIDER),t?r.b.log(`Initialization completed with ${t} exceptions!`,r.a.WARNING):r.b.log("Successfyly initialized!",r.a.OK))}close(){this.logging&&(r.b.log("",r.a.DIVIDER),r.b.log("Closing all components..."));let e=0;for(const t of this.components)try{t.close&&t.close(),this.logging&&r.b.log(t.name+" closed!",r.a.OK)}catch(i){this.logging&&r.b.log(t.name+" closing exception:\n\t"+i.stack.replace(/\n/g,"\n\t"),r.a.ERROR),e++}this.logging&&(r.b.log("",r.a.DIVIDER),e?r.b.log(`Stopped with ${e} exceptions!`,r.a.WARNING):r.b.log("Successfyly stopped!",r.a.OK))}getComponent(e){return this.components.find(t=>t.name.toLowerCase()==e.toLowerCase())||null}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Devices}));var r=i(1);class Devices extends(Object(r.a)()){constructor(){super(...arguments),this.voltage=0,this.resistance=1,this.voltmeter=null,this.ampermeter=null}initialize(e){this.resistance=e,this.voltmeter=document.getElementById("voltmeter"),this.ampermeter=document.getElementById("ampermeter"),this.expose("updateValues")}setResistance(e){this.resistance=e}updateValues(e=this.voltage){if(this.voltmeter){let t=e/(Number.parseFloat(this.voltmeter.querySelector("[name='voltmeter-range']:checked").value)||1);t>10&&(t=10.3),this.voltmeter.style.setProperty("--value",t.toString())}if(this.ampermeter){const t=Number.parseFloat(this.ampermeter.querySelector("[name='ampermeter-range']:checked").value)||1;let i=e/this.resistance/t*1e3;i>100&&(i=103),this.ampermeter.style.setProperty("--value",i.toString())}this.voltage=e}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Binding}));class Binding{constructor(e){this.removedEvent=new Event("removed"),this.placeholders=new Map,this.container=e,this.loops=new Map,this.binds=new Map,this.data={}}bind(){const e=this.container.querySelectorAll("placeholder"),t=this.container.querySelectorAll("[placeholders]"),i=this.container.querySelectorAll("[iterate]"),r=this.container.querySelectorAll("input[bind]");i.forEach(this.bindLoop.bind(this)),t.forEach(this.bindAttribute.bind(this)),e.forEach(this.bindElement.bind(this)),r.forEach(this.bindInput.bind(this))}register(e,t,i="",r=""){var n;let o=t;if(t instanceof Attr&&(o=t.ownerElement),!this.container.contains(o))return;this.placeholders.has(e)||this.placeholders.set(e,new Set);const a={prefix:i,postfix:r,element:t};null===(n=this.placeholders.get(e))||void 0===n||n.add(a),o.addEventListener("removed",()=>{var t;null===(t=this.placeholders.get(e))||void 0===t||t.delete(a)})}bindElement(e){var t;const i=null===(t=e.attributes.item(0))||void 0===t?void 0:t.name;if(!i||!this.container.contains(e))return;if(this.register(i,e),e.innerHTML="",e.observed)return;new MutationObserver(e=>{var t;const i=e[e.length-1],r=(null===(t=i.addedNodes[0])||void 0===t?void 0:t.textContent)||"";if(!r)return;const n=i.target.attributes[0].name;this.set(n,r)}).observe(e,{childList:!0}),e.observed=!0}bindAttribute(e){var t;const i=e.getAttributeNode("placeholders");if(!i)return;if(""!=i.value){const t=i.value.split(";");for(const i of t){if(!i)continue;const t=i.split(":"),r=e.getAttributeNode(t[0]),n=t[1];if(!n||!r)return;const o=e.getAttribute("_"+r.name)||"",a=e.getAttribute(r.name+"_")||"";this.register(n,r,o,a)}return}i.value="";const r=e.attributes;for(const n of r){const r=n.value.match(/^(.*)<placeholder ([\w.]+)><!--/);if(!r)continue;const o=r[2],a=r[1]||"",s=(null===(t=e.getAttribute("__postfix_"+o))||void 0===t?void 0:t.slice(17))||"";a&&e.setAttribute("_"+n.name,a),s&&e.setAttribute(n.name+"_",s),n.value=a+s,i.value+=`${n.name}:${o};`,this.register(o,n,a,s),e.removeAttribute("__postfix_"+o)}if(e.observed)return;new MutationObserver(t=>{var i;const r=t[t.length-1].attributeName;if(!r)return;let n=e.getAttribute(r);if(!n)return;const o=e.getAttribute(r+"_")||"",a=e.getAttribute("_"+r)||"";n=n.slice(a.length,n.length-o.length);let s=null;const l=null===(i=e.getAttribute("placeholders"))||void 0===i?void 0:i.split(";");if(l){for(const e of l)e.split(":")[0]==r&&(s=e.split(":")[1]);s&&this.set(s,n)}}).observe(e,{attributes:!0}),e.observed=!0}bindInput(e){var t;const i=e.getAttributeNode("bind");if(!(null==i?void 0:i.value.startsWith("data.")))return;if(!this.container.contains(e))return;const r=i.value.slice(5);i.value=r;const n=()=>{["radio","checkbox"].includes(e.type)?this.set(r,e.checked):this.set(r,e.value)};if("radio"==e.type){this.container.querySelectorAll(`input[type="radio"][name="${e.name}"]`).forEach(e=>{e.addEventListener("input",n)})}else e.addEventListener("input",n);n(),this.binds.has(r)||this.binds.set(r,new Set),null===(t=this.binds.get(r))||void 0===t||t.add(e),e.addEventListener("removed",()=>{var t;null===(t=this.binds.get(r))||void 0===t||t.delete(e)})}bindLoop(e){var t,i;const r=e.getAttributeNode("iterate");if(!r||!this.container.contains(e))return;r.value=r.value.replace("data.","");const n=document.createElement("template");n.content.appendChild(e.cloneNode(!0)),null===(t=e.parentNode)||void 0===t||t.replaceChild(n,e),this.loops.has(r.value)||this.loops.set(r.value,new Set),null===(i=this.loops.get(r.value))||void 0===i||i.add(n),n.addEventListener("removed",()=>{var e;null===(e=this.loops.get(r.value))||void 0===e||e.delete(n)})}createLoopElement(e,t){var i;const r=e.content.firstElementChild;if(!r)return;const n=r.getAttribute("iterate");if(!n)return;const o=r.cloneNode(!0),a=o.querySelectorAll("placeholder"),s=o.querySelectorAll("[placeholders]"),l=o.querySelectorAll("[iterate]"),c=o.querySelectorAll("[bind]");a.forEach(e=>{const i=e.attributes[0].name,r=i.replace(n,`${n}.${t}`);e.removeAttribute(i),e.setAttribute(r,""),this.bindElement(e)}),s.forEach(e=>{this.bindAttribute(e);let i=e.getAttribute("placeholders");if(!i)return;const r=(":"+n).replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");i=i.replace(new RegExp(r,"g"),`:${n}.${t}`),e.setAttribute("placeholders",i)}),l.forEach(e=>{let i=e.getAttribute("iterate")||"";i=i.replace(n,`${n}.${t}`),e.setAttribute("iterate",i)}),c.forEach(e=>{let i=e.getAttribute("bind")||"";i=i.replace(n,`${n}.${t}`),e.setAttribute("bind",i)}),this.bindAttribute(o);let d=o.getAttribute("placeholders");if(d){const e=(":"+n).replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");d=d.replace(new RegExp(e,"g"),`:${n}.${t}`),o.setAttribute("placeholders",d)}null===(i=e.parentNode)||void 0===i||i.insertBefore(o,e),l.forEach(this.bindLoop.bind(this)),c.forEach(this.bindInput.bind(this)),s.forEach(this.bindAttribute.bind(this)),a.forEach(this.bindElement.bind(this)),this.bindAttribute(o)}get(e){if(!e)return this.data;let t=this.data;const i=e.split(".");for(const e of i)void 0===t[e]&&(t[e]={}),t=t[e];return t}set(e,t,i=!1){var r;let n=!1;if("object"==typeof t){const r=this.loops.get(e)||[];if(Array.isArray(t))for(const t of r){let i=t.previousElementSibling;for(;i;){const t=i.previousElementSibling;i.getAttribute("iterate")==e&&(i.remove(),i.querySelectorAll("template,placeholder,[placeholders],[bind]").forEach(e=>{e.dispatchEvent(this.removedEvent)})),i=t}}for(const o in t){if(Array.isArray(t))for(const e of r)this.createLoopElement(e,+o);n=this.set(e+"."+o,t[o],i)||n}return n}null===(r=this.binds.get(e))||void 0===r||r.forEach(i=>{i.getAttribute("bind")===e&&(["radio","checkbox"].includes(i.type)?i.checked!=t!=!0&&"true"!=t||(i.checked=!0===t||"true"==t,i.value==t&&(i.dispatchEvent(new Event("input")),n=!0)):i.value!=t.toString()&&(i.value=t,i.value==t&&(i.dispatchEvent(new Event("input")),n=!0)))});const o=this.placeholders.get(e);if(null==o||o.forEach(e=>{const r=e.prefix+t+e.postfix,o=e.element;o instanceof Attr?o.nodeValue!=r&&(o.nodeValue=r,n=!0):i?o.innerHTML!=r&&(o.innerHTML=r,n=!0):o.textContent!=r&&(o.textContent=r,n=!0)}),void 0!==t){let i=this.data;const r=e.split("."),n=r.pop();if(n){for(const e of r)"object"!=typeof i[e]&&(i[e]={}),i=i[e];i[n]=t.toString()}}return n}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Power}));var r=i(1);class Power extends(Object(r.a)()){constructor(){super(...arguments),this.voltage=0,this.maximum=100,this.step=1}initialize(e=100,t=10){this.voltage=0,this.maximum=e,this.step=e/t,this.expose("updateVoltage")}updateVoltage(){this.voltage+=this.step,this.voltage>this.maximum&&(this.voltage=0),this.container.style.setProperty("--level",(this.voltage/this.maximum).toString()),this.emit("voltageChanged",this.voltage)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Machine}));var r=i(1);class Machine extends(Object(r.a)()){constructor(){super(...arguments),this.resistors=null,this.slot=null}initialize(){this.bind(),this.resistors=this.container.querySelector(".resistors"),this.slot=this.container.querySelector(".slot"),this.expose("activate"),this.expose("dragResistor"),this.expose("dropResistor"),this.expose("allowDrop")}dragResistor(e){var t;const i=e.target;null===(t=e.dataTransfer)||void 0===t||t.setData("resistance",i.dataset.resistance||"")}dropResistor(e){var t,i,r;if(e.preventDefault(),!this.slot)return;for(const e of null===(t=this.slot)||void 0===t?void 0:t.children)null===(i=this.resistors)||void 0===i||i.appendChild(e);const n=null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("resistance");if(!n)return;const o=this.container.querySelector(`[data-resistance="${n}"]`);o&&(this.slot.appendChild(o),this.emit("resistorChanged",n))}allowDrop(e){"false"==this.data.terminals.left&&"false"==this.data.terminals.right&&e.preventDefault()}activate(){var e;if(!(null===(e=this.slot)||void 0===e?void 0:e.children.length))return;if("false"==this.data.terminals.left)return;if("false"==this.data.terminals.right)return;const t=this.container.querySelector("img"),i=null==t?void 0:t.clientWidth;t&&(t.style.width=i+"px",setTimeout(()=>{t.style.width="100vw"},0));const r=this.container.querySelector(".inactive");null==r||r.classList.remove("inactive")}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Machine}));i(20);var r=i(14),n=i.n(r),o=i(2);class Machine extends o.a{constructor(){super("Machine"),this.template=n.a}}},function(e,t,i){i(5);e.exports=function(e){var t="";return t+='<div class="machine" controller="machine"><div class="inactive" view="circuit"></div><img src="assets/images/machine.svg"><div class="slot" ondrop="Controller.dropResistor(event)" ondragover="Controller.allowDrop(event)"></div><input type="checkbox" id="terminal-left" bind="data.terminals.left"><label class="terminal left" for="terminal-left"></label><input type="checkbox" id="terminal-right" bind="data.terminals.right"><label class="terminal right" for="terminal-right"></label><div class="resistors"><div class="resistor" draggable="true" ondragstart="Controller.dragResistor(event)" data-resistance="132"></div><div class="resistor" draggable="true" ondragstart="Controller.dragResistor(event)" data-resistance="242"></div><div class="resistor" draggable="true" ondragstart="Controller.dragResistor(event)" data-resistance="325"></div><div class="resistor" draggable="true" ondragstart="Controller.dragResistor(event)" data-resistance="464"></div></div><div class="toggles"><label class="toggle"><input type="checkbox"><span class="left">âˆ£</span><span class="right">&#x2B58;</span></label><label class="toggle"><input type="checkbox"><span class="left">âˆ£</span><span class="right">&#x2B58;</span></label><label class="toggle"><input type="checkbox"><span class="left">âˆ£</span><span class="right">&#x2B58;</span></label></div></div>'}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Circuit}));i(23);var r=i(16),n=i.n(r),o=i(2);class Circuit extends o.a{constructor(){super("Circuit"),this.template=n.a}}},function(e,t,i){i(5);e.exports=function(e){var t="";return t+='<div class="circuit" onclick="Machine.activate()"><div class="element power" controller="power" onclick="Power.updateVoltage()">&#x26a1;</div><div class="element meter voltmeter" view="voltmeter"></div><div class="element meter ampermeter" view="ampermeter"></div><div class="element resistor">&Omega;</div><div class="wire top"></div><div class="wire bottom"></div><div class="wire vertical"></div></div>'}},function(e,t,i){var r=i(5);e.exports=function(e){var t,i="",n=e||{};return function(e,n,o,a,s){i=i+'<div class="device"'+r.attr("id",n,!0,!0)+r.attr("style",r.style("--limit:"+5*s),!0,!0)+'><div class="scale"><svg viewbox="0 0 500 150"><path id="curve" fill="transparent" d="M73.2,148.6c4-6.1,65.5-96.8,178.6-95.6c111.3,1.2,170.8,90.3,175.1,97"></path><path id="curve2" fill="transparent" transform="translate(-30, -30) scale(1.12)" d="M73.2,148.6c4-6.1,65.5-96.8,178.6-95.6c111.3,1.2,170.8,90.3,175.1,97"></path><text class="numbers" width="500"><textpath xlink:href="#curve2" xml:space="preserve">',function(){var e=[0,1,2,3,4,5];if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++){var a=(l=e[n])*s;i+=r.escape(null==(t=a+" ".repeat(8-a.toString().length-(4==l?(a+s).toString().length-1:0)))?"":t)}else{o=0;for(var n in e){o++;var l;a=(l=e[n])*s;i+=r.escape(null==(t=a+" ".repeat(8-a.toString().length-(4==l?(a+s).toString().length-1:0)))?"":t)}}}.call(this),i=i+'</textpath></text><text class="deviders" width="500"><textpath xlink:href="#curve">|....|....|....|....|....|....|....|....|....|....|</textpath></text></svg></div><div class="arrow"></div><div class="label">'+r.escape(null==(t=e)?"":t)+"</div>",o&&(i=i+'<div class="precision">&gamma; = '+r.escape(null==(t=o)?"":t)+"</div>"),i+='<div class="buttons">',function(){var e=a;if("number"==typeof e.length)for(var o=0,s=e.length;o<s;o++){var l=e[o];i=i+"<input"+r.attr("id",n+"-radio-"+o,!0,!0)+' type="radio"'+r.attr("name",n+"-range",!0,!0)+r.attr("value",l,!0,!0)+r.attr("checked",0==o,!0,!0)+' onclick="Devices.updateValues()"><label'+(r.attr("for",n+"-radio-"+o,!0,!0)+r.attr("style",r.style("background:hsl("+(o/a.length*255+17)+", 100%, 69%)"),!0,!0))+">"+r.escape(null==(t="x"+l)?"":t)+"</label>"}else{s=0;for(var o in e){s++;l=e[o];i=i+"<input"+r.attr("id",n+"-radio-"+o,!0,!0)+' type="radio"'+r.attr("name",n+"-range",!0,!0)+r.attr("value",l,!0,!0)+r.attr("checked",0==o,!0,!0)+' onclick="Devices.updateValues()"><label'+(r.attr("for",n+"-radio-"+o,!0,!0)+r.attr("style",r.style("background:hsl("+(o/a.length*255+17)+", 100%, 69%)"),!0,!0))+">"+r.escape(null==(t="x"+l)?"":t)+"</label>"}}}.call(this),i+="</div></div>"}.call(this,"label"in n?n.label:"undefined"!=typeof label?label:void 0,"name"in n?n.name:"undefined"!=typeof name?name:void 0,"precision"in n?n.precision:"undefined"!=typeof precision?precision:void 0,"ranges"in n?n.ranges:"undefined"!=typeof ranges?ranges:void 0,"step"in n?n.step:"undefined"!=typeof step?step:void 0),i}},function(e,t,i){"use strict";i.d(t,"a",(function(){return EnvetsHandler}));class EnvetsHandler{constructor(e){const t={};e.forEach(e=>t[e.name]=e),this.powerController=t.Power,this.devicesController=t.Devices,this.machineController=t.Machine}async registerEvents(){this.powerController.on("voltageChanged",e=>{this.devicesController.updateValues(e)}),this.machineController.on("resistorChanged",e=>{this.devicesController.setResistance(e)})}}},function(e,t,i){"use strict";i.r(t);const r=new(i(7).a);window.addEventListener("load",async()=>{await r.initialize()})},function(e,t,i){var r=i(3),n=i(21);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};r(n,o);e.exports=n.locals||{}},function(e,t,i){(t=i(4)(!1)).push([e.i,'.machine{transform:translateX(0);display:flex;justify-content:center}.machine img{height:70vmin;width:auto;z-index:-1}.machine [view="circuit"]:not(.inactive) ~ img{opacity:0;width:100vw;height:100vh;transition:1.2s}.machine [view="circuit"]:not(.inactive) ~ div,.machine [view="circuit"]:not(.inactive) ~ label{opacity:0;transition:1.2s}.machine [view="circuit"]:not(.inactive) .circuit>div{animation:borders 2s}.machine .inactive>.circuit{position:absolute;left:15vmin;top:21vmin;margin:0;color:rgba(0,0,0,0);max-height:100vmin;max-width:120vmin;overflow:hidden;animation:tst 3s;transform-origin:0 0;transform:translate(0, 0) scale(0.15);cursor:pointer}.machine .inactive>.circuit .wire{--size: 4vmin}.machine .inactive>.circuit .scale,.machine .inactive>.circuit .arrow,.machine .inactive>.circuit .buttons,.machine .inactive>.circuit .label,.machine .inactive>.circuit .precision{opacity:0;transition:2s;transition-property:opacity}.machine .inactive>.circuit>div{box-shadow:0px 0px 0px;border:solid 20px var(--color-text);pointer-events:none}.machine .circuit{transition:2s}.machine .slot{position:absolute;left:24.5%;bottom:27%;width:7%;height:18%;transform:rotateZ(90deg)}.machine .slot .resistor{animation:drop 0.4s ease-out;filter:drop-shadow(0px 0px 12px rgba(0,0,0,0.8));pointer-events:none}.machine>input{display:none}.machine>input:checked+.terminal{transform:rotateZ(180deg);background-color:#505050;z-index:3}.machine .terminal{position:absolute;bottom:calc(34% - 3px);width:2%;height:4%;border-radius:50%;border:solid 3px var(--color-text);z-index:-1;cursor:pointer;transition:0.2s}.machine .terminal.left{left:calc(20% - 3px)}.machine .terminal.right{left:calc(34% - 3px)}.machine .resistor{width:100%;height:100%;filter:drop-shadow(0px 0px 12px rgba(0,0,0,0.5));background-size:contain;background-position:center;background-repeat:repeat-y;cursor:grab}.machine .resistors{position:absolute;display:flex;flex-direction:row;left:20%;bottom:5%;height:18%;width:35%}.machine .resistors .resistor{margin-right:5%;margin-left:5%;transition:0.2s}.machine .resistors .resistor:hover{transform:scale(0.9)}.machine .resistor[data-resistance="132"]{background-image:url("assets/images/resistor_132.svg")}.machine .resistor[data-resistance="242"]{background-image:url("assets/images/resistor_242.svg")}.machine .resistor[data-resistance="325"]{background-image:url("assets/images/resistor_325.svg")}.machine .resistor[data-resistance="464"]{background-image:url("assets/images/resistor_464.svg")}.machine .toggles{position:absolute;right:4.1%;bottom:5.7%;display:flex;flex-direction:column}.machine .toggles .toggle{display:inline-block;position:relative;width:7em;height:4em;font-size:2vmin;font-weight:bold;text-align:center;text-transform:uppercase;color:#888;border-bottom:0.5em solid #fff;user-select:none;overflow:hidden}.machine .toggles .toggle::before{content:"";position:absolute;top:1em;left:0;right:0;bottom:0;background-color:#999;border:0.5em solid #fff;border-bottom:0}.machine .toggles .toggle>input{opacity:0;width:0;height:0}.machine .toggles .toggle>input:checked+.left{background-color:#0084d0;color:#fff;bottom:0px;left:0.5em;height:2.5em;width:3em;transform:rotate(0deg) skewX(0deg)}.machine .toggles .toggle>input:checked+.left::before{background-color:transparent;width:3.0833em}.machine .toggles .toggle>input:checked+.left+.right{background-color:#ddd;color:#888;bottom:0.4em;right:0.8em;height:2.4em;width:2.75em;transform:rotate(-15deg) skewX(-15deg)}.machine .toggles .toggle>input:checked+.left+.right::before{background-color:#ccc}.machine .toggles .toggle .left,.machine .toggles .toggle .right{cursor:pointer;position:absolute;display:flex;align-items:center;justify-content:center;height:2.5em;width:3em;transition:0.2s}.machine .toggles .toggle .left::before,.machine .toggles .toggle .right::before{content:"";position:absolute;width:0.4em;height:2.45em;bottom:-0.45em;background-color:#ccc;transform:skewY(-65deg)}.machine .toggles .toggle .left{height:2.4em;width:2.75em;left:0.85em;bottom:0.4em;background-color:#ddd;transform:rotate(15deg) skewX(15deg)}.machine .toggles .toggle .left::before{left:-0.4em}.machine .toggles .toggle .right{right:0.5em;bottom:0;background-color:#bd5757;color:#fff}.machine .toggles .toggle .right::before{right:-0.375em;background-color:transparent;transform:skewY(65deg)}@keyframes drop{0%{opacity:0;transform:scale(1.3);filter:drop-shadow(0px 0px 0px rgba(0,0,0,0))}30%{opacity:1}80%{transform:scale(0.9)}100%{transform:scale(1);filter:drop-shadow(0px 0px 12px rgba(0,0,0,0.8))}}@keyframes borders{0%{border:solid 20px var(--color-text)}100%{border:solid 0px var(--color-text)}}\n',""]),e.exports=t},function(e,t){},function(e,t,i){var r=i(3),n=i(24);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};r(n,o);e.exports=n.locals||{}},function(e,t,i){(t=i(4)(!1)).push([e.i,'@font-face{font-family:"NotoEmoji-Regular";src:url("assets/fonts/NotoEmoji-Regular.ttf") format("truetype");unicode-range:U+1F300-1F5FF, U+1F600-1F64F, U+1F680-1F6FF, U+2600-26FF}.circuit{position:absolute;left:0;top:0;--margin: 64px;--width: calc(100vw - var(--margin) * 2);--height: 40vw;width:var(--width);margin:var(--margin)}.circuit .element{box-shadow:0px 8px 8px rgba(0,0,0,0.3);border-radius:16px;background-color:#f0f0f0;font-size:5vw;text-align:center}.circuit .meter{position:absolute;display:flex;align-items:center;width:calc(var(--width) / 6);height:calc(var(--height) / 3);transition:0.2s;transition-property:transform;cursor:pointer}.circuit .meter:hover{transform:scale(1.6);z-index:100}.circuit .wire{--size: 8px;position:absolute;background-color:#505050;z-index:-1}.circuit .power{--level: 0;width:calc(var(--width) / 6);height:var(--height);line-height:var(--height);font-family:"NotoEmoji-Regular";transition:0.2s;transition-property:box-shadow;overflow:hidden;user-select:none;cursor:pointer}.circuit .power:active{box-shadow:0px 8px 8px rgba(0,0,0,0.6)}.circuit .power:before{content:"âš¡";display:block;position:absolute;bottom:0;left:0;width:calc(var(--width) / 6);height:calc(var(--height) * var(--level));line-height:calc(var(--height) + 9px);background:linear-gradient(180deg, #270038 0%, #4c0986 43%, #006cff 100%);background-size:1px var(--height);transition:0.3s;transition-property:height;overflow:hidden;transform:scale(-1, -1);border-radius:inherit;color:white;z-index:0}.circuit .voltmeter{top:calc(var(--height) / 2 - var(--height) / 6);left:calc(var(--width) / 6 * 2)}.circuit .ampermeter{top:0px;left:calc(var(--width) / 6 * 3)}.circuit .resistor{position:absolute;top:calc(var(--height) / 2 - var(--height) * 0.4);right:0;width:calc(var(--width) / 14);height:calc(var(--height) * 0.8);line-height:calc(var(--height) * 0.8)}.circuit .wire.top{top:calc(var(--height) / 3 - var(--height) / 6 - var(--size) / 2);width:var(--width);height:var(--size)}.circuit .wire.bottom{bottom:calc(var(--height) / 3 - var(--height) / 6 - var(--size) / 2);width:var(--width);height:var(--size)}.circuit .wire.vertical{top:calc(var(--height) / 3 - var(--height) / 6 - var(--size) / 2);bottom:calc(var(--height) / 3 - var(--height) / 6 - var(--size) / 2);left:calc(var(--width) / 6 * 2 + var(--width) / 12);width:var(--size);height:auto}\n',""]),e.exports=t},function(e,t,i){var r=i(3),n=i(26);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};r(n,o);e.exports=n.locals||{}},function(e,t,i){(t=i(4)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap);"]),t.push([e.i,'.device{--value: 0;--unit: calc(var(--height) / 40);display:block;transform:translate(0, 0);width:100%}.device .scale .deviders{font-size:13.7px;font-family:"Roboto Mono", monospace}.device .scale .numbers{font-size:18.7px;font-family:"Roboto Mono", monospace}.device .arrow{--size: 10px;--color: rgb(80, 80, 80);display:inline-block;position:absolute;top:calc(3.9 * var(--unit) - 8px);left:calc(50% - 2px);background:var(--color);height:calc(4.3 * var(--unit));width:calc(var(--size) - 6px);border-bottom-left-radius:5px;border-bottom-right-radius:5px;transition:0.6s;transform:rotateZ(calc((var(--value) / var(--limit)) * 120deg - 60deg));transform-origin:bottom;transition-property:transform;transition-timing-function:cubic-bezier(0.25, 0.1, 0.27, 1.225);z-index:1}.device .arrow:after{content:"";display:block;position:absolute;bottom:calc(100% - 2px);left:-3px;border-top:0px solid transparent;border-right:calc(var(--size) / 2) solid transparent;border-bottom:calc(1.4 * var(--unit)) solid var(--color);border-left:calc(var(--size) / 2) solid transparent}.device .label{position:absolute;left:50%;top:30%;transform:translateX(-50%);opacity:0.6;text-align:center;font-size:calc(2 * var(--unit));z-index:0}.device .precision{position:absolute;right:12px;top:calc(6.8 * var(--unit));opacity:0.6;font-size:calc(0.8 * var(--unit));z-index:0}.device .buttons{position:relative;margin-top:calc(3 * var(--unit));display:flex;justify-content:space-evenly}.device .buttons label{background:#ddd;color:#505050;border:none;outline:0;border-radius:5px;padding:calc(0.6 * var(--unit));font-size:calc(1.2 * var(--unit));font-weight:bold;box-shadow:inset 0 -3px 0px rgba(0,0,0,0.1);transition:0.15s;user-select:none;cursor:pointer}.device .buttons label:hover{box-shadow:inset 0 -3px 0px rgba(0,0,0,0.3)}.device .buttons label:active{transform:translateY(2px);box-shadow:inset 0 -1px 0px rgba(0,0,0,0.1)}.device .buttons input{position:absolute;visibility:hidden}.device .buttons input:checked+label{transform:translateY(2px);box-shadow:inset 0 -1px 0px rgba(0,0,0,0.3);filter:brightness(0.8) saturate(1.2);text-shadow:0px 0px 16px rgba(0,0,0,0.5)}\n',""]),e.exports=t}]);