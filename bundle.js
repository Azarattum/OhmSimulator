!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=19)}([function(t,e,i){"use strict";i.d(e,"b",(function(){return Utils})),i.d(e,"a",(function(){return r}));class Utils{static log(t,e=r.INFO){const i=`[${(new Date).toTimeString().split(" ")[0]}]: `;switch(e){case r.INFO:console.log(i+"%c[1mi[0m "+t,"font-weight:bold;");break;case r.OK:console.log(i+"[32m[1m%câœ“ "+t+"[0m","color:green;font-weight:bold;");break;case r.ERROR:console.error(i+"[31m[1m%câœ˜ "+t+"[0m","color:red;font-weight:bold;");break;case r.WARNING:console.warn(i+"[33m[1m%c![0m [33m"+t+"[0m","color:goldenrod;font-weight:bold;");break;case r.DIVIDER:{const e="=".repeat(30-t.length/2);console.log(e+t+e+(t.length%2?"=":""));break}default:throw new TypeError("Unknown log type!")}}static mergeObjects(t,e){for(const i in e)"object"==typeof e[i]?(t[i]||(t[i]={}),this.mergeObjects(t[i],e[i])):t[i]?Array.isArray(t[i])?t[i].includes(e[i])||t[i].push(e[i]):t[i]!=e[i]&&(t[i]=[t[i],e[i]]):t[i]=e[i]}}var r;!function(t){t[t.INFO=0]="INFO",t[t.OK=1]="OK",t[t.WARNING=2]="WARNING",t[t.ERROR=3]="ERROR",t[t.DIVIDER=4]="DIVIDER"}(r||(r={}))},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i(10),n=i(0);function o(){return class Controller{constructor(t){this.type="Controllers",this.callbacks={},this.sender=null,this.bindings=null,this.safe=!0,this.name=t||this.constructor.name}bind(){this.bindings=new Map;const t=Array.from(document.querySelectorAll(`[controller=${this.name.toLowerCase()}]`)).reverse();for(const e of t){const t=new r.a(e);t.bind(),this.bindings.set(e,t)}}close(){this.callbacks={}}on(t,e){t in this.callbacks||(this.callbacks[t]=[]),this.callbacks[t].push(e)}emit(t,...e){this.callbacks[t]&&this.callbacks[t].forEach(t=>t.call(t,...e))}expose(t,e=null){globalThis[this.name]||(globalThis[this.name]={});const i=e||this[t].bind(this);globalThis[this.name][t]=(...t)=>{let e;if(null===event||void 0===event?void 0:event.target)this.sender=event.target,e=i(...t);else{const r=Array.from(document.querySelectorAll(`[controller=${this.name.toLowerCase()}]`)).reverse();e=new Set;let o=null;for(const a of r){this.sender=a;const r=i(...t);null!=r&&("object"==typeof r?(o||(o={}),n.b.mergeObjects(o,r)):e.add(r))}e=o||(e.size>1?Array.from(e):e.values().next().value),this.sender=null}return e}}get container(){let t=this.sender?this.sender.closest(`[controller=${this.name.toLowerCase()}]`):null;if(t=t||document.querySelector(`[controller=${this.name.toLowerCase()}]`),!t)throw new Error(`Container ${this.name} not found!`);return t}get data(){if(!this.bindings)throw new Error("Use this.bind() to bind your data first!");let t=[];if(this.sender){const e=this.bindings.get(this.container);e&&(t=[e])}else t=Array.from(this.bindings.values());const e={get:(t,i)=>{const r=(t.__origin?t.__origin+".":"")+i,n=t[i];return"object"==typeof n||void 0===n?new Proxy(Object.assign(Object.assign({},n),{__origin:r}),e):n},set:(e,i,r)=>{if(!this.bindings)return!1;const n=(e.__origin?e.__origin+".":"")+i;e[i]=r;for(const e of t)e.set(n,r,!this.safe);return!0}},i={};for(const e of t)n.b.mergeObjects(i,e.get());return i.__origin="",new Proxy(i,e)}}}"undefined"==typeof globalThis&&(window.globalThis=window),globalThis.Controller=new Proxy({},{get:(t,e)=>{if(!event)return;let i=event.target,r=null;for(;null==r||null==globalThis[r]||null==globalThis[r][e];){if(r=i.getAttribute("controller"),r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),!i.parentElement)return;i=i.parentElement}return globalThis[r][e]}})},function(t,e,i){"use strict";i.d(e,"a",(function(){return View}));class View{constructor(t,e=null){this.type="Views",this.name=t,this.windowLoaded="complete"===document.readyState,this.template=e,this.windowLoaded||window.addEventListener("load",()=>{this.windowLoaded=!0,this.template&&this.render(this.template)})}async initialize(t){this.render(null,t)}render(t=null,e={}){this.windowLoaded?(t||(t=this.template),e||(e={}),this.container.forEach(i=>{if(!t)return;const r={};for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];r[t]="function"==typeof n?(...t)=>n(i,...t):n}r.data=this.data,i.innerHTML=t(r)}),this.template=null):this.template=t}toggle(t=null){null==t&&(t="none"==this.container[0].style.display),t?this.container.forEach(t=>{t.style.display="block"}):this.container.forEach(t=>{t.style.display="none"})}get data(){const t={get:(e,i)=>{if(i==Symbol.toPrimitive||"toJSON"==i||"toString"==i)return()=>`<placeholder ${e._}>\x3c!--"placeholders __postfix_${e._}="--\x3e</placeholder>`;const r={_:(e._?e._+".":"")+i};return new Proxy(r,t)}};return new Proxy({_:""},t)}get container(){const t=document.querySelectorAll(`[view=${this.name.toLowerCase()}]`);if(!t)throw new Error(`Container ${this.name} not found!`);return t}}},function(t,e,i){"use strict";var r,n=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function s(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},r=[],n=0;n<t.length;n++){var o=t[n],l=e.base?o[0]+e.base:o[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var u=s(d),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(a[u].references++,a[u].updater(h)):a.push({identifier:d,updater:g(h,e),references:1}),r.push(d)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var n=i.nc;n&&(r.nonce=n)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function h(t,e,i,r){var n=i?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,n);else{var o=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,i){var r=i.css,n=i.media,o=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var v=null,f=0;function g(t,e){var i,r,n;if(e.singleton){var o=f++;i=v||(v=c(e)),r=h.bind(null,i,o,!1),n=h.bind(null,i,o,!0)}else i=c(e),r=p.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var i=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<i.length;r++){var n=s(i[r]);a[n].references--}for(var o=l(t,e),c=0;c<i.length;c++){var d=s(i[c]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}i=o}}}},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var n=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[i].concat(o).concat([n]).join("\n")}var a,s,l;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,r){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(n[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty;function n(t,e){return Array.isArray(t)?function(t,e){for(var i,r="",o="",a=Array.isArray(e),s=0;s<t.length;s++)(i=n(t[s]))&&(a&&e[s]&&(i=l(i)),r=r+o+i,o=" ");return r}(t,e):t&&"object"==typeof t?function(t){var e="",i="";for(var n in t)n&&t[n]&&r.call(t,n)&&(e=e+i+n,i=" ");return e}(t):t||""}function o(t){if(!t)return"";if("object"==typeof t){var e="";for(var i in t)r.call(t,i)&&(e=e+i+":"+t[i]+";");return e}return t+""}function a(t,e,i,r){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(r?t:t+'="'+t+'"');var n=typeof e;return"object"!==n&&"function"!==n||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.merge=function t(e,i){if(1===arguments.length){for(var r=e[0],n=1;n<e.length;n++)r=t(r,e[n]);return r}for(var a in i)if("class"===a){var s=e[a]||[];e[a]=(Array.isArray(s)?s:[s]).concat(i[a]||[])}else if("style"===a){s=(s=o(e[a]))&&";"!==s[s.length-1]?s+";":s;var l=o(i[a]);l=l&&";"!==l[l.length-1]?l+";":l,e[a]=s+l}else e[a]=i[a];return e},e.classes=n,e.style=o,e.attr=a,e.attrs=function(t,e){var i="";for(var s in t)if(r.call(t,s)){var l=t[s];if("class"===s){l=n(l),i=a(s,l,!1,e)+i;continue}"style"===s&&(l=o(l)),i+=a(s,l,!1,e)}return i};var s=/["&<>]/;function l(t){var e=""+t,i=s.exec(e);if(!i)return t;var r,n,o,a="";for(r=i.index,n=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}n!==r&&(a+=e.substring(n,r)),n=r+1,a+=o}return n!==r?a+e.substring(n,r):a}e.escape=l,e.rethrow=function t(e,r,n,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&r||o))throw e.message+=" on line "+n,e;try{o=o||i(22).readFileSync(r,"utf8")}catch(i){t(e,null,n)}var a=3,s=o.split("\n"),l=Math.max(n-a,0),c=Math.min(s.length,n+a);a=s.slice(l,c).map((function(t,e){var i=e+l+1;return(i==n?"  > ":"    ")+i+"| "+t})).join("\n");throw e.path=r,e.message=(r||"Pug")+":"+n+"\n"+a+"\n\n"+e.message,e}},function(t,e,i){"use strict";i.d(e,"a",(function(){return Device}));i(25);var r=i(17),n=i.n(r),o=i(2);class Device extends o.a{constructor(t){super(t),this.name=t,this.template=n.a}render(t=null,e={}){super.render(t,Object.assign({name:this.name.toLocaleLowerCase()},e))}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return App}));var r=i(8),n=i(9),o=i(11),a=i(12),s=i(13),l=i(15),c=i(6),d=i(18);class App{constructor(){this.manger=null,this.events=null}async initialize(){const t=[new o.a,new n.a,new a.a,new s.a,new l.a,new c.a("Voltmeter"),new c.a("Ampermeter")];this.manger=new r.a(t),this.events=new d.a(t);const e=await this.getComponentArguments();await this.events.registerEvents(),await this.manger.initialize(e)}async getComponentArguments(){if(!this.manger)throw new Error("Initialize manager first!");return{Devices:[132],Power:[30],Voltmeter:[{ranges:[.5,1,2,3],step:2,label:"V",precision:"1.5"}],Ampermeter:[{ranges:[1,2,5,20],step:20,label:"mA",precision:"2.0"}]}}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return Manager}));var r=i(0);class Manager{constructor(t){this.logging=!0;const e=["Services","Views","Controllers"];this.components=t.sort((t,i)=>e.indexOf(t.type)>=e.indexOf(i.type)?1:-1)}async initialize(t=[]){let e=0;this.logging&&r.b.log("Initializtion started...");let i="";for(const n in this.components){const o=this.components[n];this.logging&&i!=o.type&&(r.b.log(o.type,r.a.DIVIDER),i=o.type);try{const e=Array.isArray(t)?t[n]:t[o.name];e&&o.initialize?await o.initialize(...e):o.initialize&&await o.initialize(),this.logging&&r.b.log(o.name+" initialized!",r.a.OK)}catch(t){this.logging&&r.b.log(o.name+" initialization exception:\n\t"+t.stack.replace(/\n/g,"\n\t"),r.a.ERROR),e++}}this.logging&&(r.b.log("",r.a.DIVIDER),e?r.b.log(`Initialization completed with ${e} exceptions!`,r.a.WARNING):r.b.log("Successfyly initialized!",r.a.OK))}close(){this.logging&&(r.b.log("",r.a.DIVIDER),r.b.log("Closing all components..."));let t=0;for(const e of this.components)try{e.close&&e.close(),this.logging&&r.b.log(e.name+" closed!",r.a.OK)}catch(i){this.logging&&r.b.log(e.name+" closing exception:\n\t"+i.stack.replace(/\n/g,"\n\t"),r.a.ERROR),t++}this.logging&&(r.b.log("",r.a.DIVIDER),t?r.b.log(`Stopped with ${t} exceptions!`,r.a.WARNING):r.b.log("Successfyly stopped!",r.a.OK))}getComponent(t){return this.components.find(e=>e.name.toLowerCase()==t.toLowerCase())||null}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return Devices}));var r=i(1);class Devices extends(Object(r.a)()){constructor(){super(...arguments),this.voltage=0,this.resistance=1,this.voltmeter=null,this.ampermeter=null}initialize(t){this.resistance=t,this.voltmeter=document.getElementById("voltmeter"),this.ampermeter=document.getElementById("ampermeter"),this.expose("updateValues")}setResistance(t){this.resistance=t}updateValues(t=this.voltage){if(this.voltmeter){let e=t/(Number.parseFloat(this.voltmeter.querySelector("[name='voltmeter-range']:checked").value)||1);e>10&&(e=10.3),this.voltmeter.style.setProperty("--value",e.toString())}if(this.ampermeter){const e=Number.parseFloat(this.ampermeter.querySelector("[name='ampermeter-range']:checked").value)||1;let i=t/this.resistance/e*1e3;i>100&&(i=103),this.ampermeter.style.setProperty("--value",i.toString())}this.voltage=t}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return Binding}));class Binding{constructor(t){this.removedEvent=new Event("removed"),this.placeholders=new Map,this.container=t,this.loops=new Map,this.binds=new Map,this.data={}}bind(){const t=this.container.querySelectorAll("placeholder"),e=this.container.querySelectorAll("[placeholders]"),i=this.container.querySelectorAll("[iterate]"),r=this.container.querySelectorAll("input[bind]");i.forEach(this.bindLoop.bind(this)),e.forEach(this.bindAttribute.bind(this)),t.forEach(this.bindElement.bind(this)),r.forEach(this.bindInput.bind(this))}register(t,e,i="",r=""){var n;let o=e;if(e instanceof Attr&&(o=e.ownerElement),!this.container.contains(o))return;this.placeholders.has(t)||this.placeholders.set(t,new Set);const a={prefix:i,postfix:r,element:e};null===(n=this.placeholders.get(t))||void 0===n||n.add(a),o.addEventListener("removed",()=>{var e;null===(e=this.placeholders.get(t))||void 0===e||e.delete(a)})}bindElement(t){var e;const i=null===(e=t.attributes.item(0))||void 0===e?void 0:e.name;if(!i||!this.container.contains(t))return;if(this.register(i,t),t.innerHTML="",t.observed)return;new MutationObserver(t=>{var e;const i=t[t.length-1],r=(null===(e=i.addedNodes[0])||void 0===e?void 0:e.textContent)||"";if(!r)return;const n=i.target.attributes[0].name;this.set(n,r)}).observe(t,{childList:!0}),t.observed=!0}bindAttribute(t){var e;const i=t.getAttributeNode("placeholders");if(!i)return;if(""!=i.value){const e=i.value.split(";");for(const i of e){if(!i)continue;const e=i.split(":"),r=t.getAttributeNode(e[0]),n=e[1];if(!n||!r)return;const o=t.getAttribute("_"+r.name)||"",a=t.getAttribute(r.name+"_")||"";this.register(n,r,o,a)}return}i.value="";const r=t.attributes;for(const n of r){const r=n.value.match(/^(.*)<placeholder ([\w.]+)><!--/);if(!r)continue;const o=r[2],a=r[1]||"",s=(null===(e=t.getAttribute("__postfix_"+o))||void 0===e?void 0:e.slice(17))||"";a&&t.setAttribute("_"+n.name,a),s&&t.setAttribute(n.name+"_",s),n.value=a+s,i.value+=`${n.name}:${o};`,this.register(o,n,a,s),t.removeAttribute("__postfix_"+o)}if(t.observed)return;new MutationObserver(e=>{var i;const r=e[e.length-1].attributeName;if(!r)return;let n=t.getAttribute(r);if(!n)return;const o=t.getAttribute(r+"_")||"",a=t.getAttribute("_"+r)||"";n=n.slice(a.length,n.length-o.length);let s=null;const l=null===(i=t.getAttribute("placeholders"))||void 0===i?void 0:i.split(";");if(l){for(const t of l)t.split(":")[0]==r&&(s=t.split(":")[1]);s&&this.set(s,n)}}).observe(t,{attributes:!0}),t.observed=!0}bindInput(t){var e;const i=t.getAttributeNode("bind");if(!(null==i?void 0:i.value.startsWith("data.")))return;if(!this.container.contains(t))return;const r=i.value.slice(5);i.value=r;const n=()=>{["radio","checkbox"].includes(t.type)?this.set(r,t.checked):this.set(r,t.value)};if("radio"==t.type){this.container.querySelectorAll(`input[type="radio"][name="${t.name}"]`).forEach(t=>{t.addEventListener("input",n)})}else t.addEventListener("input",n);n(),this.binds.has(r)||this.binds.set(r,new Set),null===(e=this.binds.get(r))||void 0===e||e.add(t),t.addEventListener("removed",()=>{var e;null===(e=this.binds.get(r))||void 0===e||e.delete(t)})}bindLoop(t){var e,i;const r=t.getAttributeNode("iterate");if(!r||!this.container.contains(t))return;r.value=r.value.replace("data.","");const n=document.createElement("template");n.content.appendChild(t.cloneNode(!0)),null===(e=t.parentNode)||void 0===e||e.replaceChild(n,t),this.loops.has(r.value)||this.loops.set(r.value,new Set),null===(i=this.loops.get(r.value))||void 0===i||i.add(n),n.addEventListener("removed",()=>{var t;null===(t=this.loops.get(r.value))||void 0===t||t.delete(n)})}createLoopElement(t,e){var i;const r=t.content.firstElementChild;if(!r)return;const n=r.getAttribute("iterate");if(!n)return;const o=r.cloneNode(!0),a=o.querySelectorAll("placeholder"),s=o.querySelectorAll("[placeholders]"),l=o.querySelectorAll("[iterate]"),c=o.querySelectorAll("[bind]");a.forEach(t=>{const i=t.attributes[0].name,r=i.replace(n,`${n}.${e}`);t.removeAttribute(i),t.setAttribute(r,""),this.bindElement(t)}),s.forEach(t=>{this.bindAttribute(t);let i=t.getAttribute("placeholders");if(!i)return;const r=(":"+n).replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");i=i.replace(new RegExp(r,"g"),`:${n}.${e}`),t.setAttribute("placeholders",i)}),l.forEach(t=>{let i=t.getAttribute("iterate")||"";i=i.replace(n,`${n}.${e}`),t.setAttribute("iterate",i)}),c.forEach(t=>{let i=t.getAttribute("bind")||"";i=i.replace(n,`${n}.${e}`),t.setAttribute("bind",i)}),this.bindAttribute(o);let d=o.getAttribute("placeholders");if(d){const t=(":"+n).replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");d=d.replace(new RegExp(t,"g"),`:${n}.${e}`),o.setAttribute("placeholders",d)}null===(i=t.parentNode)||void 0===i||i.insertBefore(o,t),l.forEach(this.bindLoop.bind(this)),c.forEach(this.bindInput.bind(this)),s.forEach(this.bindAttribute.bind(this)),a.forEach(this.bindElement.bind(this)),this.bindAttribute(o)}get(t){if(!t)return this.data;let e=this.data;const i=t.split(".");for(const t of i)void 0===e[t]&&(e[t]={}),e=e[t];return e}set(t,e,i=!1){var r;let n=!1;if("object"==typeof e){const r=this.loops.get(t)||[];if(Array.isArray(e))for(const e of r){let i=e.previousElementSibling;for(;i;){const e=i.previousElementSibling;i.getAttribute("iterate")==t&&(i.remove(),i.querySelectorAll("template,placeholder,[placeholders],[bind]").forEach(t=>{t.dispatchEvent(this.removedEvent)})),i=e}}for(const o in e){if(Array.isArray(e))for(const t of r)this.createLoopElement(t,+o);n=this.set(t+"."+o,e[o],i)||n}return n}null===(r=this.binds.get(t))||void 0===r||r.forEach(i=>{i.getAttribute("bind")===t&&(["radio","checkbox"].includes(i.type)?i.checked!=e!=!0&&"true"!=e||(i.checked=!0===e||"true"==e,i.value==e&&(i.dispatchEvent(new Event("input")),n=!0)):i.value!=e.toString()&&(i.value=e,i.value==e&&(i.dispatchEvent(new Event("input")),n=!0)))});const o=this.placeholders.get(t);if(null==o||o.forEach(t=>{const r=t.prefix+e+t.postfix,o=t.element;o instanceof Attr?o.nodeValue!=r&&(o.nodeValue=r,n=!0):i?o.innerHTML!=r&&(o.innerHTML=r,n=!0):o.textContent!=r&&(o.textContent=r,n=!0)}),void 0!==e){let i=this.data;const r=t.split("."),n=r.pop();if(n){for(const t of r)"object"!=typeof i[t]&&(i[t]={}),i=i[t];i[n]=e.toString()}}return n}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return Power}));var r=i(1);class Power extends(Object(r.a)()){constructor(){super(...arguments),this.voltage=0,this.maximum=100,this.step=1}initialize(t=100,e=10){this.voltage=0,this.maximum=t,this.step=t/e,this.expose("updateVoltage")}updateVoltage(){this.voltage+=this.step,this.voltage>this.maximum&&(this.voltage=0),this.container.style.setProperty("--level",(this.voltage/this.maximum).toString()),this.emit("voltageChanged",this.voltage)}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return Machine}));var r=i(1);class Machine extends(Object(r.a)()){constructor(){super(...arguments),this.resistors=null,this.slot=null}initialize(){this.bind(),this.resistors=this.container.querySelector(".resistors"),this.slot=this.container.querySelector(".slot"),this.expose("activate"),this.expose("dragResistor"),this.expose("dropResistor"),this.expose("allowDrop")}dragResistor(t){var e;const i=t.target;null===(e=t.dataTransfer)||void 0===e||e.setData("resistance",i.dataset.resistance||"")}dropResistor(t){var e,i,r;if(t.preventDefault(),!this.slot)return;for(const t of null===(e=this.slot)||void 0===e?void 0:e.children)null===(i=this.resistors)||void 0===i||i.appendChild(t);const n=null===(r=t.dataTransfer)||void 0===r?void 0:r.getData("resistance");if(!n)return;const o=this.container.querySelector(`[data-resistance="${n}"]`);o&&(this.slot.appendChild(o),this.emit("resistorChanged",n))}allowDrop(t){"false"==this.data.terminals.left&&"false"==this.data.terminals.right&&t.preventDefault()}activate(){var t;if(!(null===(t=this.slot)||void 0===t?void 0:t.children.length))return;if("false"==this.data.terminals.left)return;if("false"==this.data.terminals.right)return;const e=this.container.querySelector("img"),i=null==e?void 0:e.clientWidth;e&&(e.style.width=i+"px",setTimeout(()=>{e.style.width="100vw"},0));const r=this.container.querySelector(".inactive");null==r||r.classList.remove("inactive")}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return Machine}));i(20);var r=i(14),n=i.n(r),o=i(2);class Machine extends o.a{constructor(){super("Machine"),this.template=n.a}}},function(t,e,i){i(5);t.exports=function(t){var e="";return e+='<div class="machine" controller="machine"><div class="inactive" view="circuit"></div><img src="assets/images/machine.svg"><div class="slot" ondrop="Controller.dropResistor(event)" ondragover="Controller.allowDrop(event)"></div><input type="checkbox" id="terminal-left" bind="data.terminals.left"><label class="terminal left" for="terminal-left"></label><input type="checkbox" id="terminal-right" bind="data.terminals.right"><label class="terminal right" for="terminal-right"></label><div class="resistors"><div class="resistor" draggable="true" ondragstart="Controller.dragResistor(event)" data-resistance="132"></div><div class="resistor" draggable="true" ondragstart="Controller.dragResistor(event)" data-resistance="242"></div><div class="resistor" draggable="true" ondragstart="Controller.dragResistor(event)" data-resistance="325"></div><div class="resistor" draggable="true" ondragstart="Controller.dragResistor(event)" data-resistance="464"></div></div></div>'}},function(t,e,i){"use strict";i.d(e,"a",(function(){return Circuit}));i(23);var r=i(16),n=i.n(r),o=i(2);class Circuit extends o.a{constructor(){super("Circuit"),this.template=n.a}}},function(t,e,i){i(5);t.exports=function(t){var e="";return e+='<div class="circuit" onclick="Machine.activate()"><div class="element power" controller="power" onclick="Power.updateVoltage()">&#x26a1;</div><div class="element meter voltmeter" view="voltmeter"></div><div class="element meter ampermeter" view="ampermeter"></div><div class="element resistor">&Omega;</div><div class="wire top"></div><div class="wire bottom"></div><div class="wire vertical"></div></div>'}},function(t,e,i){var r=i(5);t.exports=function(t){var e,i="",n=t||{};return function(t,n,o,a,s){i=i+'<div class="device"'+r.attr("id",n,!0,!0)+r.attr("style",r.style("--limit:"+5*s),!0,!0)+'><div class="scale"><svg viewbox="0 0 500 150"><path id="curve" fill="transparent" d="M73.2,148.6c4-6.1,65.5-96.8,178.6-95.6c111.3,1.2,170.8,90.3,175.1,97"></path><path id="curve2" fill="transparent" transform="translate(-30, -30) scale(1.12)" d="M73.2,148.6c4-6.1,65.5-96.8,178.6-95.6c111.3,1.2,170.8,90.3,175.1,97"></path><text class="numbers" width="500"><textpath xlink:href="#curve2" xml:space="preserve">',function(){var t=[0,1,2,3,4,5];if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var a=(l=t[n])*s;i+=r.escape(null==(e=a+" ".repeat(8-a.toString().length-(4==l?(a+s).toString().length-1:0)))?"":e)}else{o=0;for(var n in t){o++;var l;a=(l=t[n])*s;i+=r.escape(null==(e=a+" ".repeat(8-a.toString().length-(4==l?(a+s).toString().length-1:0)))?"":e)}}}.call(this),i=i+'</textpath></text><text class="deviders" width="500"><textpath xlink:href="#curve">|....|....|....|....|....|....|....|....|....|....|</textpath></text></svg></div><div class="arrow"></div><div class="label">'+r.escape(null==(e=t)?"":e)+"</div>",o&&(i=i+'<div class="precision">&gamma; = '+r.escape(null==(e=o)?"":e)+"</div>"),i+='<div class="buttons">',function(){var t=a;if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++){var l=t[o];i=i+"<input"+r.attr("id",n+"-radio-"+o,!0,!0)+' type="radio"'+r.attr("name",n+"-range",!0,!0)+r.attr("value",l,!0,!0)+r.attr("checked",0==o,!0,!0)+' onclick="Devices.updateValues()"><label'+(r.attr("for",n+"-radio-"+o,!0,!0)+r.attr("style",r.style("background:hsl("+(o/a.length*255+17)+", 100%, 69%)"),!0,!0))+">"+r.escape(null==(e="x"+l)?"":e)+"</label>"}else{s=0;for(var o in t){s++;l=t[o];i=i+"<input"+r.attr("id",n+"-radio-"+o,!0,!0)+' type="radio"'+r.attr("name",n+"-range",!0,!0)+r.attr("value",l,!0,!0)+r.attr("checked",0==o,!0,!0)+' onclick="Devices.updateValues()"><label'+(r.attr("for",n+"-radio-"+o,!0,!0)+r.attr("style",r.style("background:hsl("+(o/a.length*255+17)+", 100%, 69%)"),!0,!0))+">"+r.escape(null==(e="x"+l)?"":e)+"</label>"}}}.call(this),i+="</div></div>"}.call(this,"label"in n?n.label:"undefined"!=typeof label?label:void 0,"name"in n?n.name:"undefined"!=typeof name?name:void 0,"precision"in n?n.precision:"undefined"!=typeof precision?precision:void 0,"ranges"in n?n.ranges:"undefined"!=typeof ranges?ranges:void 0,"step"in n?n.step:"undefined"!=typeof step?step:void 0),i}},function(t,e,i){"use strict";i.d(e,"a",(function(){return EnvetsHandler}));class EnvetsHandler{constructor(t){const e={};t.forEach(t=>e[t.name]=t),this.powerController=e.Power,this.devicesController=e.Devices,this.machineController=e.Machine}async registerEvents(){this.powerController.on("voltageChanged",t=>{this.devicesController.updateValues(t)}),this.machineController.on("resistorChanged",t=>{this.devicesController.setResistance(t)})}}},function(t,e,i){"use strict";i.r(e);const r=new(i(7).a);window.addEventListener("load",async()=>{await r.initialize()})},function(t,e,i){var r=i(3),n=i(21);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(n,o);t.exports=n.locals||{}},function(t,e,i){(e=i(4)(!1)).push([t.i,'.machine{transform:translateX(0);display:flex;justify-content:center}.machine img{height:70vmin;width:auto;z-index:-1}.machine [view="circuit"]:not(.inactive) ~ img{opacity:0;width:100vw;height:100vh;transition:1.2s}.machine [view="circuit"]:not(.inactive) ~ div,.machine [view="circuit"]:not(.inactive) ~ label{opacity:0;transition:1.2s}.machine [view="circuit"]:not(.inactive) .circuit>div{animation:borders 2s}.machine .inactive>.circuit{position:absolute;left:15vmin;top:21vmin;margin:0;color:rgba(0,0,0,0);max-height:100vmin;max-width:120vmin;overflow:hidden;animation:tst 3s;transform-origin:0 0;transform:translate(0, 0) scale(0.15);cursor:pointer}.machine .inactive>.circuit .wire{--size: 4vmin}.machine .inactive>.circuit .scale,.machine .inactive>.circuit .arrow,.machine .inactive>.circuit .buttons,.machine .inactive>.circuit .label,.machine .inactive>.circuit .precision{opacity:0;transition:2s;transition-property:opacity}.machine .inactive>.circuit>div{box-shadow:0px 0px 0px;border:solid 20px var(--color-text);pointer-events:none}.machine .circuit{transition:2s}.machine .slot{position:absolute;left:24.5%;bottom:27%;width:7%;height:18%;transform:rotateZ(90deg)}.machine .slot .resistor{animation:drop 0.4s ease-out;filter:drop-shadow(0px 0px 12px rgba(0,0,0,0.8));pointer-events:none}.machine input:checked+.terminal{transform:rotateZ(180deg);background-color:#505050;z-index:3}.machine .terminal{position:absolute;bottom:calc(34% - 3px);width:2%;height:4%;border-radius:50%;border:solid 3px var(--color-text);z-index:-1;cursor:pointer;transition:0.2s}.machine .terminal.left{left:calc(20% - 3px)}.machine .terminal.right{left:calc(34% - 3px)}.machine .resistor{width:100%;height:100%;filter:drop-shadow(0px 0px 12px rgba(0,0,0,0.5));background-size:contain;background-position:center;background-repeat:repeat-y;cursor:grab}.machine .resistors{position:absolute;display:flex;flex-direction:row;left:20%;bottom:5%;height:18%;width:35%}.machine .resistors .resistor{margin-right:5%;margin-left:5%;transition:0.2s}.machine .resistors .resistor:hover{transform:scale(0.9)}.machine .resistor[data-resistance="132"]{background-image:url("assets/images/resistor_132.svg")}.machine .resistor[data-resistance="242"]{background-image:url("assets/images/resistor_242.svg")}.machine .resistor[data-resistance="325"]{background-image:url("assets/images/resistor_325.svg")}.machine .resistor[data-resistance="464"]{background-image:url("assets/images/resistor_464.svg")}.machine>input{display:none}@keyframes drop{0%{opacity:0;transform:scale(1.3);filter:drop-shadow(0px 0px 0px rgba(0,0,0,0))}30%{opacity:1}80%{transform:scale(0.9)}100%{transform:scale(1);filter:drop-shadow(0px 0px 12px rgba(0,0,0,0.8))}}@keyframes borders{0%{border:solid 20px var(--color-text)}100%{border:solid 0px var(--color-text)}}\n',""]),t.exports=e},function(t,e){},function(t,e,i){var r=i(3),n=i(24);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(n,o);t.exports=n.locals||{}},function(t,e,i){(e=i(4)(!1)).push([t.i,'@font-face{font-family:"NotoEmoji-Regular";src:url("/assets/fonts/NotoEmoji-Regular.ttf") format("truetype");unicode-range:U+1F300-1F5FF, U+1F600-1F64F, U+1F680-1F6FF, U+2600-26FF}.circuit{position:absolute;left:0;top:0;--margin: 64px;--width: calc(100vw - var(--margin) * 2);--height: 40vw;width:var(--width);margin:var(--margin)}.circuit .element{box-shadow:0px 8px 8px rgba(0,0,0,0.3);border-radius:16px;background-color:#f0f0f0;font-size:5vw;text-align:center}.circuit .meter{position:absolute;display:flex;align-items:center;width:calc(var(--width) / 6);height:calc(var(--height) / 3);transition:0.2s;transition-property:transform;cursor:pointer}.circuit .meter:hover{transform:scale(1.6);z-index:100}.circuit .wire{--size: 8px;position:absolute;background-color:#505050;z-index:-1}.circuit .power{--level: 0;width:calc(var(--width) / 6);height:var(--height);line-height:var(--height);font-family:"NotoEmoji-Regular";transition:0.2s;transition-property:box-shadow;overflow:hidden;user-select:none;cursor:pointer}.circuit .power:active{box-shadow:0px 8px 8px rgba(0,0,0,0.6)}.circuit .power:before{content:"âš¡";display:block;position:absolute;bottom:0;left:0;width:calc(var(--width) / 6);height:calc(var(--height) * var(--level));line-height:calc(var(--height) + 9px);background:linear-gradient(180deg, #270038 0%, #4c0986 43%, #006cff 100%);background-size:1px var(--height);transition:0.3s;transition-property:height;overflow:hidden;transform:scale(-1, -1);border-radius:inherit;color:white;z-index:0}.circuit .voltmeter{top:calc(var(--height) / 2 - var(--height) / 6);left:calc(var(--width) / 6 * 2)}.circuit .ampermeter{top:0px;left:calc(var(--width) / 6 * 3)}.circuit .resistor{position:absolute;top:calc(var(--height) / 2 - var(--height) * 0.4);right:0;width:calc(var(--width) / 14);height:calc(var(--height) * 0.8);line-height:calc(var(--height) * 0.8)}.circuit .wire.top{top:calc(var(--height) / 3 - var(--height) / 6 - var(--size) / 2);width:var(--width);height:var(--size)}.circuit .wire.bottom{bottom:calc(var(--height) / 3 - var(--height) / 6 - var(--size) / 2);width:var(--width);height:var(--size)}.circuit .wire.vertical{top:calc(var(--height) / 3 - var(--height) / 6 - var(--size) / 2);bottom:calc(var(--height) / 3 - var(--height) / 6 - var(--size) / 2);left:calc(var(--width) / 6 * 2 + var(--width) / 12);width:var(--size);height:auto}\n',""]),t.exports=e},function(t,e,i){var r=i(3),n=i(26);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(n,o);t.exports=n.locals||{}},function(t,e,i){(e=i(4)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap);"]),e.push([t.i,'.device{--value: 0;--unit: calc(var(--height) / 40);display:block;transform:translate(0, 0);width:100%}.device .scale .deviders{font-size:13.7px;font-family:"Roboto Mono", monospace}.device .scale .numbers{font-size:18.7px;font-family:"Roboto Mono", monospace}.device .arrow{--size: 10px;--color: rgb(80, 80, 80);display:inline-block;position:absolute;top:calc(3.9 * var(--unit) - 8px);left:calc(50% - 2px);background:var(--color);height:calc(4.3 * var(--unit));width:calc(var(--size) - 6px);border-bottom-left-radius:5px;border-bottom-right-radius:5px;transition:0.6s;transform:rotateZ(calc((var(--value) / var(--limit)) * 120deg - 60deg));transform-origin:bottom;transition-property:transform;transition-timing-function:cubic-bezier(0.25, 0.1, 0.27, 1.225);z-index:1}.device .arrow:after{content:"";display:block;position:absolute;bottom:calc(100% - 2px);left:-3px;border-top:0px solid transparent;border-right:calc(var(--size) / 2) solid transparent;border-bottom:calc(1.4 * var(--unit)) solid var(--color);border-left:calc(var(--size) / 2) solid transparent}.device .label{position:absolute;left:50%;top:30%;transform:translateX(-50%);opacity:0.6;text-align:center;font-size:calc(2 * var(--unit));z-index:0}.device .precision{position:absolute;right:12px;top:calc(6.8 * var(--unit));opacity:0.6;font-size:calc(0.8 * var(--unit));z-index:0}.device .buttons{position:relative;margin-top:calc(3 * var(--unit));display:flex;justify-content:space-evenly}.device .buttons label{background:#ddd;color:#505050;border:none;outline:0;border-radius:5px;padding:calc(0.6 * var(--unit));font-size:calc(1.2 * var(--unit));font-weight:bold;box-shadow:inset 0 -3px 0px rgba(0,0,0,0.1);transition:0.15s;user-select:none;cursor:pointer}.device .buttons label:hover{box-shadow:inset 0 -3px 0px rgba(0,0,0,0.3)}.device .buttons label:active{transform:translateY(2px);box-shadow:inset 0 -1px 0px rgba(0,0,0,0.1)}.device .buttons input{position:absolute;visibility:hidden}.device .buttons input:checked+label{transform:translateY(2px);box-shadow:inset 0 -1px 0px rgba(0,0,0,0.3);filter:brightness(0.8) saturate(1.2);text-shadow:0px 0px 16px rgba(0,0,0,0.5)}\n',""]),t.exports=e}]);